<div class="article-detail-container" *ngIf="!isLoading && article">
  <!-- Navigation -->
  <div class="article-navigation">
    <button mat-icon-button (click)="goBack()" class="back-button">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <button mat-icon-button (click)="shareArticle()" class="share-button">
      <mat-icon>share</mat-icon>
    </button>
  </div>

  <!-- Article Header -->
  <header class="article-header">
    <div class="article-meta">
      <span class="category" *ngIf="article.category">{{ article.category.name }}</span>
      <span class="publish-date">{{ formatDate(article.created_at) }}</span>
      <span class="view-count">
        <mat-icon>visibility</mat-icon>
        {{ article.view_count }} views
      </span>
    </div>

    <h1 class="article-title">{{ article.title }}</h1>

    <p class="article-summary" *ngIf="article.summary">
      {{ article.summary }}
    </p>

    <div class="article-tags" *ngIf="tags.length > 0">
      <mat-chip-set>
        <mat-chip *ngFor="let tag of tags">
          {{ tag }}
        </mat-chip>
      </mat-chip-set>
    </div>

    <div class="author-info" *ngIf="article.author">
      <span class="author-name">By {{ article.author.username }}</span>
      <span class="updated-date" *ngIf="article.updated_at !== article.created_at">
        Â· Updated {{ formatDate(article.updated_at) }}
      </span>
    </div>
  </header>

  <!-- Featured Image -->
  <div class="featured-image" *ngIf="article.featured_image_url">
    <img [src]="article.featured_image_url" [alt]="article.title">
  </div>

  <!-- Article Content -->
  <main class="article-content">
    <div class="content-body" [innerHTML]="article.content"></div>
  </main>

  <!-- Article Footer -->
  <footer class="article-footer">
    <div class="article-actions">
      <button mat-raised-button color="primary" (click)="shareArticle()">
        <mat-icon>share</mat-icon>
        Share Article
      </button>
      <button mat-button (click)="goBack()">
        <mat-icon>list</mat-icon>
        Back to Articles
      </button>
    </div>
  </footer>
</div>

<!-- Loading State -->
<div class="loading-container" *ngIf="isLoading">
  <mat-card class="loading-card">
    <mat-card-content>
      <div class="loading-content">
        <mat-icon class="loading-spinner">autorenew</mat-icon>
        <p>Loading article...</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>

<!-- Error State -->
<div class="error-container" *ngIf="!isLoading && !article">
  <mat-card class="error-card">
    <mat-card-content>
      <div class="error-content">
        <mat-icon>error_outline</mat-icon>
        <h2>Article Not Found</h2>
        <p>The article you're looking for doesn't exist or has been removed.</p>
        <button mat-raised-button color="primary" (click)="goBack()">
          Back to Articles
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</div>
